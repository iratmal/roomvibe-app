# Task: Implement "Street View" Feeling for 360Â° Gallery Camera

## ğŸ¯ Cilj

OmoguÄ‡iti da se kamera u 360Â° galeriji ponaÅ¡a prirodno i glatko poput Google Street View-a â€” bez "frame-by-frame" trzanja, bez inercije nakon puÅ¡tanja miÅ¡a i uz maksimalno intuitivan doÅ¾ivljaj kretanja kroz prostor.

---

## ğŸ”§ Å ta toÄno treba implementirati

### **1. Glatko rotiranje kamere (smooth rotation)**

* Kada korisnik zadrÅ¾i pritisnutu lijevu tipku miÅ¡a i pomiÄe ga, kamera mora:

  * rotirati *kontinuirano*, ne u skokovima
  * reagirati odmah na pokret (bez kaÅ¡njenja)
  * kretati se **fluidno**, bez "stepova" u prikazu

Trenutno: rotacija ide u skokovima (frame jumps).
Cilj: non-stop linearno kretanje dok se miÅ¡ kreÄ‡e.

---

### **2. Kamera se MORA zaustaviti Äim korisnik prestane pomicati miÅ¡**

* Bez inercije
* Bez nastavka pomicanja nakon Å¡to korisnik stane

Trenutno: kamera nastavlja micati nekoliko frameova.
Cilj: *0 ms* daljnjeg kretanja nakon puÅ¡tanja miÅ¡a.

---

### **3. Kamera se mora pokrenuti odmah kad korisnik pokrene miÅ¡**

* Bez kaÅ¡njenja
* Bez "buffer" efekta

---

### **4. OgraniÄiti pogled prema gore i prema dolje (pitch clamping)**

* Ostaviti samo malo vidljivog stropa i malo poda
* SprijeÄiti da korisnik gleda potpuno u pod ili potpuno u strop

PredloÅ¾ene granice:

* **min pitch** â‰ˆ -10Â° (lagani pogled prema podu)
* **max pitch** â‰ˆ +10Â° (lagani pogled prema stropu)

---

### **5. Osjetljivost miÅ¡a dodatno smanjiti (~50% sporije)**

* MiÅ¡ je i dalje prebrz
* Smanjiti sensitivity horizontalnog i vertikalnog pomaka

Predlog: `rotationSpeed = 0.002` (podesiti po osjeÄ‡aju).

---

## ğŸ§  TehniÄki upute (visoke razine)

Ovo je korisno za developera â€” bez toÄnih linija koda, ali izuzetno jasno:

* Prebaciti rotaciju kamere na **requestAnimationFrame** umjesto frame-step logike
* Implementirati:

  * `isMouseDown` flag
  * `deltaX` i `deltaY` koji se resetiraju svakoj frame iteraciji
* U animacijskom loopu:

  ```
  if (isMouseDown) {
      camera.rotation.y -= deltaX * rotationSpeed;
      camera.rotation.x -= deltaY * rotationSpeed;
  }
  ```
* Dodati strict pitch clamp

  ```
  camera.rotation.x = Math.max(minPitch, Math.min(maxPitch, camera.rotation.x));
  ```
* On mouseup â†’ resetirati delta i zaustaviti animaciju rotacije

---

## âœ”ï¸ OÄekivani rezultat

* Kamera se kreÄ‡e GLATKO kao u Street View-u
* Nema viÅ¡e skakanja slike
* Nema trzanja
* Nema "nastavka kretanja" nakon puÅ¡tanja miÅ¡a
* Korisnik se osjeÄ‡a kao da fiziÄki stoji u galeriji i okreÄ‡e se oko sebe

---

Ako bude trebalo dodatno fino Å¡telanje (osjetljivost, brzina, pitch), samo mi javi i optimizirat Ä‡emo dalje.
