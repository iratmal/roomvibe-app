# âœ… ROOMVIBE â€” TASK: Virtual Exhibition Editor â€” MVP (Faza 1)

Ovo je veliki, strateÅ¡ki i jasno definiran development task za Replit Agenta.

Cilj: izgraditi **prvu verziju Virtual Exhibition room editora** za galerije (MVP verzija), potpuno funkcionalnu, ali jednostavnu. Sve logike i UI trebaju biti Äisti, stabilni i modularni, tako da se u kasnijoj fazi moÅ¾e lako nadograditi u 360Â° VR verziju.

Koristi **Design Mode** samo za layout ako je korisno, ali glavna logika treba biti ruÄno implementirana.

---

# ğŸ¯ GLAVNI CILJ (MVP)

Galerije trebaju moguÄ‡nost:

1. otvaranja izloÅ¾be â†’ **Virtual Room**
2. odabira jednog od nekoliko gallery prostora (preseta)
3. postavljanja 1â€“6 radova iz kolekcije u prostor (drag & drop)
4. automatskog skaliranja rada prema zidu
5. spremanja izloÅ¾be kao scene
6. prikaza izloÅ¾be putem *public share* linka

MVP NE ukljuÄuje 360Â° virtualni obilazak â€” to dolazi u Fazi 2.

---

# ğŸ“Œ KONTEKST

Projekt: **RoomVibe**
Role: **Gallery**
Ruta Virtual Exhibition: `/gallery/exhibitions/:id`

Ovo je trenutno samo "Coming Soon" ekran â€” sada ga pretvaramo u kompletno funkcionalan MVP editor.

Relevantni folderi (Agent neka radi u ovim podruÄjima):

* `src/pages/gallery/VirtualExhibitionRoom.tsx` (ili ekvivalent)
* `src/components/gallery/` (novi editor moduli)
* `src/types` (ako treba definirati tipove za scene, artwork placement itd.)
* `src/hooks` (ako se radi custom hook za drag & drop i scaling)
* `src/services` (ako se sprema JSON scena na backendu)

---

# 1ï¸âƒ£ FUNKCIJA: Gallery Preset Selection

### Å½eljeno ponaÅ¡anje

Korisnik treba vidjeti 3â€“4 predefinirana galerijska prostora (preset rooms):

* White Cube Gallery
* Modern Loft Gallery
* Minimalist Concrete Room
* Classic Museum Wall

Preset je jednostavna slika ili komponenta s pozadinskim zidom i podom.

### Implementacija

* Kreirati novi komponent: `GalleryPresetSelector.tsx`
* Prikazati grid sa 3â€“4 preseta
* Kada korisnik klikne preset â†’ postavlja se kao trenutni aktivni prostor za izloÅ¾bu
* Pohraniti odabir u lokalni state (npr. `useState`) i/ili backend DB (ovisno o postojeÄ‡oj arhitekturi)

---

# 2ï¸âƒ£ FUNKCIJA: Artwork Placement (drag & drop)

### Å½eljeno ponaÅ¡anje

Unutar odabranog prostora galerije korisnik moÅ¾e:

* povuÄ‡i artwork iz liste svoje kolekcije na zid
* artwork se pozicionira na zid i moÅ¾e ga se pomicati
* artwork se automatski skalira prema dimenzijama zida (komponenta "auto wall scale" veÄ‡ postoji u Studiju, moÅ¾e se reciklirati)

### Implementacija

1. Kreirati komponentu: `GalleryWallEditor.tsx`

2. Render prostora (background image)

3. Lista artworkova iz kolekcije (dobiti iz API poziva veÄ‡ postojeÄ‡eg kolekcijskog sustava)

4. Drag & drop sustav:

   * koristiti `react-dnd` ili postojeÄ‡u internu implementaciju ako veÄ‡ postoji u Studiju
   * artwork se mora moÄ‡i:

     * povuÄ‡i na zid
     * premjeÅ¡tati
     * ukloniti

5. Skaliranje:

   * artwork width/height treba se prikazati pribliÅ¾no realno u prostoru
   * koristiti istu logiku kao Studio â†’ *auto-scale to wall*

---

# 3ï¸âƒ£ FUNKCIJA: Save Exhibition Scene

### Å½eljeno ponaÅ¡anje

Korisnik klikne **Save Exhibition** i:

* scena se sprema kao JSON objekt u backend
* JSON treba sadrÅ¾avati:

  * ID izloÅ¾be
  * ID odabranog gallery preseta
  * lista artworkova (id, x pozicija, y pozicija, scale faktor)

### Implementacija

1. Kreirati model tipova u `src/types/VirtualExhibition.ts`
2. Kreirati servis funkcije:

   * `saveExhibitionScene(exhibitionId, sceneData)`
   * `loadExhibitionScene(exhibitionId)`
3. Backend endpointi ako veÄ‡ ne postoje (GET i POST)

---

# 4ï¸âƒ£ FUNKCIJA: Public Exhibition Link (View Mode)

### Å½eljeno ponaÅ¡anje

Galerija moÅ¾e kliknuti **Copy Link / View Exhibition** â†’ javna stranica treba prikazati:

* odabrani gallery prostor
* artworkove na zidu (bez edit moguÄ‡nosti)
* klikom na artwork otvara se modal sa detaljima (title, artist, dimensions)
* gumb "View In Your Room" (koristi Studio upload zid funkciju)

### Implementacija

1. Kreirati novu rutu: `/exhibition/:id` (public)
2. Render vizualne scene na temelju spremljenog JSON-a
3. Artwork modal:

   * koristi veÄ‡ postojeÄ‡i modal iz Studija
4. "View In Your Room" gumb:

   * redirect u Studio sa query parametrom artwork ID

---

# 5ï¸âƒ£ UI LAYOUT (MVP)

### Editor Mode (private):

* Header: Exhibition Title
* Step 1: Preset selector (grid)
* Step 2: Wall editor (drag & drop)
* Step 3: Save button (primary)
* Sidebar: list of artworks (scrollable)

### Public Mode:

* No editing tools
* Background gallery preset
* Artwork positioned based on saved coordinates
* Modal on click

Agent moÅ¾e koristiti **Design Mode** za UI scaffolding

---

# ğŸš« NON-SCOPE

* 360Â° panorama rendering
* VR headset mode
* viÅ¡e zidova (za MVP koristimo jedan zid)
* AI auto-curation (dolazi kasnije)
* PDF katalog visoke kvalitete (bit Ä‡e u Fazi 2)

---

# âœ… STOP CONDITION

Agent mora zavrÅ¡iti task tek kada:

1. Virtual Exhibition Room viÅ¡e nije "Coming Soon" nego stvarni editor.
2. Korisnik moÅ¾e:

   * odabrati gallery preset
   * povuÄ‡i artwork na zid
   * urediti poziciju / scale
   * spremiti scenu
   * ponovno uÄitati scenu
3. Postoji javni link `/exhibition/:id` koji prikazuje scenu bez editiranja.
4. Agent navede:

   * sve fileove koje je kreirao / mijenjao
   * arhitekturu komponenti
   * implementirane modele podataka
   * kako rjeÅ¡ava drag & drop i scaling

---

# ğŸ“Œ NAPOMENA ZA AGENTA

Ovo je kompleksan zadatak â€” koristi standardne modele osim ako nije nuÅ¾no koristiti naprednije.

Dizajn moÅ¾eÅ¡ prototipirati kroz **Design Mode**, ali logiku i strukturu implementiraj ruÄno.

---

Kada MVP bude gotov â†’ kreÄ‡emo u Fazu 2: **360Â° Walkthrough**.
