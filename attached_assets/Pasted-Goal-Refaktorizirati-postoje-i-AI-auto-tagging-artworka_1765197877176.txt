Goal:
Refaktorizirati postojeÄ‡i AI auto-tagging artworka tako da koristi Replit AI Vision (ili sluÅ¾beni Replit AI client) umjesto Anthropic API-ja, bez potrebe za ANTHROPIC_API_KEY. Nakon ovog taska, auto-tagging treba raditi â€œout-of-the-boxâ€ na Replitu, bez dodatnih API kljuÄeva.

Context:

Projekt: RoomVibe

U prethodnom tasku implementiran je auto-tagging artworka koristeÄ‡i Anthropic (Claude Vision) i ANTHROPIC_API_KEY.

Trenutno stanje:

ako ANTHROPIC_API_KEY nije postavljen, tagovi se ne generiraju

Å¾elimo ukloniti tu ovisnost i koristiti Replitov AI (vision) koji radi unutar Replit okruÅ¾enja.

Relevantni fileovi (pribliÅ¾no, prilagodi prema projektu):

backend logika za upload artworka, npr:

src/app/api/artworks/upload/route.ts

ili gdje se poziva AI za generiranje tagova

DB/model definicija za artwork:

src/lib/db/artworks.ts (ili ekvivalent)

eventualni helper za AI poziv, ako postoji, npr:

src/lib/ai/tagging.ts

ğŸ”§ Scope â€“ napravi SAMO ovo:

NaÄ‘i postojeÄ‡i Anthropic AI poziv za auto-tagging

lokacija gdje se poziva Claude / Anthropic model za generiranje tagova iz slike

tu logiku treba refaktorizirati.

Zamijeni Anthropic AI poziv Replit AI Vision pozivom

koristi sluÅ¾beni Replit AI naÄin rada za vision (bez potrebe za vanjskim API kljuÄem).

cilj: poslati sadrÅ¾aj slike (image buffer / URL) modelu i dobiti natrag tekstualni opis/tagove.

model treba vratiti 5â€“10 kratkih tagova na engleskom, npr.:
["abstract", "beige", "gold", "calm", "modern art"].

ako Replit nudi gotovu vision funkciju / client, koristi je; ako ne, implementiraj prema njihovoj dokumentaciji.

Ukloni ovisnost o ANTHROPIC_API_KEY

ukloni reference na process.env.ANTHROPIC_API_KEY iz auto-tagging koda.

nema potrebe da korisnik iÅ¡ta ruÄno postavlja u Secrets zbog tagiranja.

ako postoje bilo kakvi warning/logovi tipa â€œANTHROPIC_API_KEY missingâ€ â†’ ukloni ih.

Graceful fallback (bez ruÅ¡enja)

ako iz bilo kojeg razloga Replit AI ne vrati valjan response (error, timeout, prazan rezultat):

NEMOJ bacati greÅ¡ku prema korisniku

jednostavno postavi tags = [] i nastavi spremanje artworka kao i prije.

vaÅ¾no: korisniÄki upload mora raditi Äak i ako AI ne radi.

ZadrÅ¾i postojeÄ‡i naÄin spremanja tagova u DB

polje tags: string[] ostaje isto

UI prikaz generiranih tagova ostaje isti â€“ samo se izvor AI-a mijenja.

ne mijenjaj strukturu baze niti UI format tagova.

ğŸš« Ne raditi:

Ne uvoditi dodatne vanjske API providere (nema OpenAI, nema novog Anthropic poziva).

Ne mijenjati niÅ¡ta vezano uz Room Selector / AI Room Suggest â€“ to je drugi task.

Ne dirati Stripe, e-raÄune, GA4 ili bilo kakav billing / analytics kod.

Ne uvoditi novi env var za AI â€“ cilj je da ovo radi bez ruÄnog unosa kljuÄeva.

âœ… Stop condition:

Auto-tagging koristi iskljuÄivo Replit AI / Replit Vision, bez potrebe za ANTHROPIC_API_KEY.

Upload artworka radi normalno.

Kada se slika uploada, tagovi se pokuÅ¡aju generirati;

ako AI uspije â†’ tagovi se spremaju i prikazuju kao i prije

ako AI ne uspije â†’ upload svejedno prolazi, ali bez tagova (bez errora prema korisniku).

ğŸ’¡ Napomena:

Ovo je refaktor i usko definiran task â€“ koristi Fast Mode ako je dostupan.

Fokus je na tome da RoomVibe auto-tagging radi â€œout-of-the-boxâ€ na Replitu, bez dodatne konfiguracije s moje strane.